{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\DollarsBank-GroupProj-FrontEnd\\\\React Front End\\\\src\\\\components\\\\HomePage.js\";\nimport React from 'react';\nimport Login from './Login';\nimport { Link, Redirect } from 'react-router-dom';\nimport AccountService from '../services/AccountService.js';\nimport NavBar from './NavBar';\n\nclass HomePage extends Login {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      if (this.props.location.state !== undefined) {\n        const activeUser = this.props.location.state.activeUser;\n        this.setState(() => ({\n          user: this.props.location.state.activeUser,\n          isLoggedIn: this.props.location.state.isLoggedIn\n        }));\n        AccountService.getUserAccounts(activeUser.id).then(response => {\n          this.setState(() => ({\n            userAccounts: response.data\n          }));\n        });\n      }\n    };\n\n    this.handleClose = () => {};\n\n    this.handleTransactions = () => {};\n\n    this.state = {\n      user: {},\n      isLoggedIn: null,\n      userAccounts: []\n    };\n  }\n\n  render() {\n    // checks if user is logged in\n    if (!this.props.location.state || this.state.isLoggedIn === false) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 20\n        }\n      });\n    }\n\n    const userAccounts = this.state.userAccounts;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NavBar, {\n      activeUser: this.state.user,\n      isLoggedIn: this.state.isLoggedIn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, \" Welcome \", this.state.user.firstName, \" !\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 64\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 69\n      }\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, \"Account information\"), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 33\n      }\n    }, \"Account No\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 33\n      }\n    }, \"Balance\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    }, userAccounts.map((account, index) => /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 45\n      }\n    }, account.id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 45\n      }\n    }, account.balance.toFixed(2)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleClose(account.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 49\n      }\n    }, \"Close Account\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleTransactions(account.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 49\n      }\n    }, \"View Transactions\")))))));\n  }\n\n}\n\nexport default HomePage;","map":{"version":3,"sources":["D:/Projects/DollarsBank-GroupProj-FrontEnd/React Front End/src/components/HomePage.js"],"names":["React","Login","Link","Redirect","AccountService","NavBar","HomePage","constructor","props","componentDidMount","location","state","undefined","activeUser","setState","user","isLoggedIn","getUserAccounts","id","then","response","userAccounts","data","handleClose","handleTransactions","render","firstName","map","account","index","balance","toFixed"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Login from './Login';\r\nimport {Link, Redirect} from 'react-router-dom';\r\nimport AccountService from '../services/AccountService.js';\r\nimport NavBar from './NavBar';\r\n\r\n\r\n\r\nclass HomePage extends Login {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            user: {},\r\n            isLoggedIn: null,\r\n            userAccounts: []\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n  \r\n        if (this.props.location.state !== undefined){\r\n                \r\n \r\n            const activeUser = this.props.location.state.activeUser;\r\n\r\n\r\n            this.setState(() => ({\r\n                user: this.props.location.state.activeUser,\r\n                isLoggedIn: this.props.location.state.isLoggedIn\r\n            }))\r\n\r\n            AccountService.getUserAccounts(activeUser.id).then((response) => {\r\n                this.setState(() => ({\r\n                    userAccounts: response.data\r\n                }));\r\n            });\r\n        }\r\n    }\r\n\r\n    //TODO\r\n    handleClose = () => {\r\n\r\n    }\r\n\r\n    //TODO\r\n    handleTransactions = () => {\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        // checks if user is logged in\r\n        if (!this.props.location.state || this.state.isLoggedIn===false){\r\n            return <Redirect to=\"/login\" />\r\n        }\r\n \r\n        const userAccounts = this.state.userAccounts;\r\n\r\n        return(\r\n\r\n            \r\n            <div>\r\n\r\n                <NavBar activeUser={this.state.user} isLoggedIn={this.state.isLoggedIn}/>\r\n\r\n                <h2> Welcome {this.state.user.firstName} !</h2><br/><br/>\r\n\r\n                <h4>Account information</h4>\r\n\r\n                <table className=\"table\">\r\n                    <thead>\r\n                            <tr>\r\n                                <th>Account No</th>\r\n                                <th>Balance</th>\r\n                                <th></th>\r\n                                <th></th>\r\n                            </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                            {\r\n                                userAccounts.map((account, index) => (\r\n                                    \r\n                                        <tr>\r\n                                            <td>{account.id}</td>\r\n                                            <td>{account.balance.toFixed(2)}</td>\r\n                                            <td>\r\n                                                <button onClick={this.handleClose(account.id)}>\r\n                                                    Close Account\r\n                                                </button>\r\n                                            </td>\r\n                                            <td>\r\n                                                <button onClick={this.handleTransactions(account.id)}>\r\n                                                    View Transactions\r\n                                                </button>\r\n                                            </td>\r\n                                        </tr>\r\n                                  \r\n                                ))\r\n                            }\r\n                    </tbody>\r\n                </table>\r\n\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default HomePage;"]},"metadata":{},"sourceType":"module"}