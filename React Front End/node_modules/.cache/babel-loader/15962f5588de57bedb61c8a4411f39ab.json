{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\DollarsBank-GroupProj-FrontEnd\\\\React Front End\\\\src\\\\components\\\\Login.js\";\nimport React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport LoginRegistrationService from '../services/LoginRegesterService.js';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.setState(() => ({\n        error: \"\",\n        success: \"\"\n      }));\n      let uname = this.state.uname;\n      let pass = this.state.pass;\n      LoginRegistrationService.getUser(uname, pass).then(response => {\n        if (response.data.userName === uname && response.data.password === pass) {\n          this.setState(() => ({\n            activeUser: response.data,\n            success: \"Login sucessful!\",\n            isLoggedIn: true\n          }));\n          console.log(\"login sucessful!\");\n        } else {\n          console.log(\"Invalid Credentials!\");\n          this.setState(() => ({\n            error: \"Invalid Credentials!\"\n          }));\n        }\n      }).catch(error => {\n        console.log(\"ERROR\");\n        console.log(error);\n      });\n    };\n\n    this.state = {\n      activeUser: {},\n      uname: \"\",\n      pass: \"\",\n      error: \"\",\n      success: \"\",\n      isLoggedIn: false\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  render() {\n    // redirect if user logs in successfully\n    const isLoggedIn = this.state.isLoggedIn;\n\n    if (isLoggedIn === true) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: \"/home\",\n          state: {\n            activeUser: this.state.activeUser,\n            isLoggedIn: this.state.isLoggedIn\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 20\n        }\n      });\n    }\n\n    const errorStyle = {\n      color: 'red'\n    };\n    const sucessStyle = {\n      color: 'blue'\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"p\", {\n      style: sucessStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, this.state.success), /*#__PURE__*/React.createElement(\"p\", {\n      style: errorStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, this.state.error, \" \"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 25\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 48\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.uname,\n      onChange: evt => this.setState({\n        uname: evt.target.value\n      }),\n      placeholder: \"Username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 32\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 48\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      value: this.state.lname,\n      onChange: evt => this.setState({\n        pass: evt.target.value\n      }),\n      placeholder: \"Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 32\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      to: \"/register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }, \"Register\"));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["D:/Projects/DollarsBank-GroupProj-FrontEnd/React Front End/src/components/Login.js"],"names":["React","Link","Redirect","LoginRegistrationService","Login","Component","constructor","props","handleSubmit","e","preventDefault","setState","error","success","uname","state","pass","getUser","then","response","data","userName","password","activeUser","isLoggedIn","console","log","catch","bind","render","pathname","errorStyle","color","sucessStyle","evt","target","value","lname"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {Link, Redirect} from 'react-router-dom';\r\nimport LoginRegistrationService from '../services/LoginRegesterService.js';\r\n\r\nclass Login extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            activeUser: {},\r\n            uname: \"\",\r\n            pass: \"\",\r\n            error: \"\",\r\n            success: \"\",\r\n            isLoggedIn: false\r\n        }\r\n       this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        this.setState(() => ({\r\n            error: \"\",\r\n            success: \"\"\r\n        }));\r\n\r\n        \r\n        let uname = this.state.uname;\r\n        let pass = this.state.pass;\r\n\r\n        LoginRegistrationService.getUser(uname, pass)\r\n        .then((response) => {\r\n            \r\n            if (response.data.userName ===uname && response.data.password === pass){\r\n                this.setState(() => ({\r\n                    activeUser: response.data,\r\n                    success: \"Login sucessful!\",\r\n                    isLoggedIn: true\r\n                }));\r\n                console.log(\"login sucessful!\");\r\n            }   \r\n            else {\r\n                console.log(\"Invalid Credentials!\")\r\n                this.setState(() => ({error: \"Invalid Credentials!\"}));\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            console.log(\"ERROR\")\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n\r\n    render () {\r\n\r\n        // redirect if user logs in successfully\r\n        const isLoggedIn = this.state.isLoggedIn;\r\n        if (isLoggedIn === true) {\r\n            return <Redirect to={{\r\n                pathname: \"/home\",\r\n                state: {\r\n                    activeUser: this.state.activeUser,\r\n                    isLoggedIn: this.state.isLoggedIn\r\n                }\r\n            }}  />\r\n        }\r\n\r\n        const errorStyle = {\r\n            color: 'red'\r\n        }\r\n        const sucessStyle = {\r\n            color: 'blue'\r\n        }\r\n\r\n        return(\r\n            <div>\r\n                <h1>Login</h1>\r\n\r\n                {/* print success message */}\r\n                <p style={sucessStyle}>{this.state.success}</p>\r\n                    \r\n                {/* print error message */}\r\n                <p style={errorStyle} >{this.state.error} </p>\r\n\r\n                <form onSubmit={this.handleSubmit}>\r\n\r\n                        <label>Username</label><br/>\r\n                        <input type=\"text\" value={this.state.uname} \r\n                            onChange={evt => this.setState({uname : evt.target.value })} placeholder=\"Username\"  \r\n                        /><br/><br/>\r\n\r\n\r\n                        <label>Password</label><br/>\r\n                        <input type=\"password\" value={this.state.lname} \r\n                            onChange={evt => this.setState({pass : evt.target.value })} placeholder=\"Password\"\r\n                        /><br/><br/>\r\n\r\n                        <input type=\"submit\" />\r\n                </form>\r\n\r\n                <br></br>\r\n                <Link  to='/register'>\r\n                        Register\r\n                </Link>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}